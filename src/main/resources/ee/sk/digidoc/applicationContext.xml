<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:util="http://www.springframework.org/schema/util"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
                http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                http://www.springframework.org/schema/util
                http://www.springframework.org/schema/util/spring-util-2.5.xsd">


    <bean id="saxDigidocService" class="ee.sk.digidoc.services.SAXDigidocServiceImpl">
        <constructor-arg ref="notaryService"/>
        <constructor-arg ref="canonicalizationService"/>
    </bean>

    <bean id="timestampService" class="ee.sk.digidoc.services.BouncyCastleTimestampService"/>

    <bean id="notaryService" class="ee.sk.digidoc.services.BouncyCastleNotaryServiceImpl">
        <constructor-arg ref="crlService"/>
        <constructor-arg ref="caService"/>
        <constructor-arg name="signRequests" value="false"/>

        <property name="OCSPCerts">
            <map>
                <entry key="ESTEID-SK 2007 OCSP RESPONDER 2010" value="jar:///ee/sk/digidoc/certs/ESTEID-SK_2007_OCSP_RESPONDER_2010.pem"/>
                <entry key="SK OCSP RESPONDER 2011" value="jar:///ee/sk/digidoc/certs/SK OCSP RESPONDER 2011.pem.cer"/>
                <entry key="TEST of SK OCSP RESPONDER 2011" value="jar:///ee/sk/digidoc/certs/TEST SK OCSP RESPONDER 2011.cer"/>
            </map>
        </property>

        <property name="OCSPCACerts">
            <map>
                <entry key="ESTEID-SK 2007" value="jar:///ee/sk/digidoc/certs/ESTEID-SK_2007_OCSP_RESPONDER_2010.pem"/>
                <entry key="ESTEID-SK 2011" value="jar:///ee/sk/digidoc/certs/SK OCSP RESPONDER 2011.pem.cer"/>
            </map>
        </property>
    </bean>

    <bean id="caService" class="ee.sk.digidoc.services.CAServiceImpl">
        <property name="CACerts">
            <list>
                <value>jar:///ee/sk/digidoc/certs/EID-SK.PEM.cer</value>
                <value>jar:///ee/sk/digidoc/certs/EID-SK 2007.PEM.cer</value>
                <value>jar:///ee/sk/digidoc/certs/ESTEID-SK.PEM.cer</value>
                <value>jar:///ee/sk/digidoc/certs/ESTEID-SK 2007.PEM.cer</value>
                <value>jar:///ee/sk/digidoc/certs/JUUR-SK.PEM.cer</value>
                <value>jar:///ee/sk/digidoc/certs/KLASS3-SK.PEM.cer</value>
                <value>jar:///ee/sk/digidoc/certs/EECCRCA.pem.cer</value>
                <value>jar:///ee/sk/digidoc/certs/ESTEID-SK 2011.pem.cer</value>
                <value>jar:///ee/sk/digidoc/certs/TEST SK OCSP RESPONDER 2011.cer</value>
                <value>jar:///ee/sk/digidoc/certs/TEST ESTEID-SK 2011.cer</value>
            </list>
        </property>
    </bean>

    <bean id="crlService" class="ee.sk.digidoc.services.CRLServiceImpl"/>

    <bean id="canonicalizationService" class="ee.sk.digidoc.services.TinyXMLCanonicalizationServiceImpl"/>

</beans>